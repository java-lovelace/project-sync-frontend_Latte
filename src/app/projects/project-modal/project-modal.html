@if (isModalOpen) {
  <div
    class="fixed inset-0 bg-black/60 flex items-center justify-center"
    (click)="closeModal.emit()"
  >
    <div
      class="bg-white p-6 rounded-lg shadow-lg w-full max-w-md"
      (click)="$event.stopPropagation()"
    >
      <div class="flex justify-between items-center mb-4">
        <h2 class="text-xl font-semibold">{{ project ? "Edit Project" : "Add New Project" }}</h2>
        @if (project) {
          <button
            (click)="delete.emit(formData.id)"
            class="hover:bg-gray-200 transition-all rounded cursor-pointer p-2">
            <!--suppress HtmlDeprecatedAttribute -->
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                 stroke="currentColor" class="size-6">
              <path stroke-linecap="round" stroke-linejoin="round"
                    d="m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"/>
            </svg>
          </button>
        }
      </div>

      <form
        (ngSubmit)="onSubmit(formData)"
        class="flex flex-col gap-4">
        <div class="flex flex-col">
          <label class="">Project Name</label>
          <input
            [(ngModel)]="formData.name"
            type="text"
            name="title"
            class="block w-full rounded-md bg-gray-100 border-transparent focus:border-gray-500 focus:bg-white focus:ring-0"
            required
          />
        </div>
        @if (project) {
          <div class="flex flex-col">
            <label class="">Status</label>
            <select
              [(ngModel)]="formData.status"
              class="block w-full mt-1 rounded-md bg-gray-100 border-transparent focus:border-gray-500 focus:bg-white focus:ring-0"
              name="status">
              @for (status of projectStatuses; track status) {
                <option [ngValue]="status">{{ status }}</option>
              }
            </select>
          </div>
        }
        <div class="flex flex-col">
          <label class="">Description</label>
          <textarea
            [(ngModel)]="formData.description"
            name="description"
            class="block w-full rounded-md bg-gray-100 border-transparent focus:border-gray-500 focus:bg-white focus:ring-0 min-h-24"
            rows="3"
          ></textarea>
        </div>
        <div class="flex flex-col">
          <label class="">Responsible Person</label>
          <input
            [(ngModel)]="formData.responsiblePerson"
            type="text"
            name="person"
            class="block w-full rounded-md bg-gray-100 border-transparent focus:border-gray-500 focus:bg-white focus:ring-0"
            required
          />
        </div>
        <div class="flex justify-end gap-2">
          <button
            type="button"
            (click)="closeModal.emit();"
            class="px-4 py-2 bg-gray-200 rounded cursor-pointer hover:bg-gray-100 transition-all">
            Cancel
          </button>
          <button
            type="submit"
            class="cursor-pointer px-4 py-2 bg-gray-900 text-white rounded hover:bg-gray-600 transition-all">
            {{ project ? 'Update' : 'Add' }}
          </button>
        </div>
      </form>
    </div>
  </div>
}
